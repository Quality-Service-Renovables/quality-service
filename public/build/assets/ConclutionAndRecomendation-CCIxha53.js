import{Q as g}from"./vue-quill.esm-bundler-Cujar1SK.js";import{_ as y}from"./PrimaryButton-CHya97IP.js";import{L as x,q as v,r as i,o as n,e as k,a as d,b as s,w as r,c,g as b,d as w}from"./app-C-E5Sdrw.js";import{g as q}from"./api-B4KjLFzf.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={components:{QuillEditor:g,PrimaryButton:y,Toaster:x},props:{inspection_uuid:{type:String,required:!0}},data(){return{loading:!1,inspection_form:{resume:"",conclusion:"",recomendations:"",ct_inspection_code:"",equipment_uuid:"",status_code:"",client_uuid:"",project_uuid:""}}},mounted(){this.getInspection()},methods:{async getInspection(){try{this.loading=!0;const t=await q(this.inspection_uuid);this.inspection_form=t.data.data,this.loading=!1}catch(t){this.loading=!1,this.handleErrors(t)}},save(){let t={resume:this.inspection_form.resume??"Por definir",conclusion:this.inspection_form.conclusion??"Por definir",recomendations:this.inspection_form.recomendations??"Por definir",ct_inspection_code:this.inspection_form.category.ct_inspection_code,equipment_uuid:this.inspection_form.equipment.equipment_uuid,status_code:this.inspection_form.status.status_code,client_uuid:this.inspection_form.client.client_uuid,project_uuid:this.inspection_form.project.project_uuid},o=()=>axios.put("api/inspections/"+this.inspection_uuid,t);v.promise(o(),{loading:"Guardando...",success:l=>(this.getInspection(),"Guardado correctamente"),error:l=>{this.handleErrors(l)}})}}},E={class:"max-w-7xl mx-auto sm:px-4 lg:px-6 mb-5 pb-5"},P={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j=d("p",{class:"text-grey mb-2 text-h5 font-weight-bold"}," Define las conclusiones y recomendaciones de la inspecciÃ³n realizada ",-1),I=d("p",{class:"text-grey mb-2 text-h6"},"Conclusiones:",-1),N=d("p",{class:"text-grey mb-2 text-h6"},"Recomendaciones:",-1);function Q(t,o,l,T,e,m){const h=i("v-divider"),a=i("v-card-text"),p=i("QuillEditor"),_=i("v-skeleton-loader"),f=i("PrimaryButton");return n(),k("div",E,[d("div",P,[s(a,null,{default:r(()=>[j,s(h)]),_:1}),s(a,null,{default:r(()=>[I,e.loading?(n(),c(_,{key:1,type:"paragraph"})):(n(),c(p,{key:0,content:e.inspection_form.conclusion,"onUpdate:content":o[0]||(o[0]=u=>e.inspection_form.conclusion=u),theme:"snow",toolbar:"essential",heigth:"100%",contentType:"html"},null,8,["content"]))]),_:1}),s(a,null,{default:r(()=>[N,e.loading?(n(),c(_,{key:1,type:"paragraph"})):(n(),c(p,{key:0,content:e.inspection_form.recomendations,"onUpdate:content":o[1]||(o[1]=u=>e.inspection_form.recomendations=u),theme:"snow",toolbar:"essential",heigth:"100%",contentType:"html"},null,8,["content"]))]),_:1}),e.loading?b("",!0):(n(),c(a,{key:0},{default:r(()=>[s(f,{onClick:m.save},{default:r(()=>[w("Guardar")]),_:1},8,["onClick"])]),_:1}))])])}const U=B(C,[["render",Q]]);export{U as default};
